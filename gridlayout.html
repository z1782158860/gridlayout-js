<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GridLayoutç»„ä»¶åº“å¼€å‘æ–‡æ¡£</title>
    <script src="js/gridlayout.js"></script>
    <script src="js/static/notify.js"></script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.85);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        h1 {
            color: #1a2a6c;
            font-size: 2.8rem;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #555;
            font-size: 1.4rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .section {
            background: rgba(255, 255, 255, 0.92);
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        }

        .section-title {
            color: #1a2a6c;
            border-bottom: 2px solid #fdbb2d;
            padding-bottom: 15px;
            margin-bottom: 20px;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            font-size: 1.5rem;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 25px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
        }

        .btn {
            padding: 12px 25px;
            background: #1a2a6c;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            background: #0d1a4d;
            transform: translateY(-2px);
        }

        .btn.secondary {
            background: #b21f1f;
        }

        .btn.secondary:hover {
            background: #8c1919;
        }

        .btn.warning {
            background: #fdbb2d;
            color: #333;
        }

        .btn.warning:hover {
            background: #e0a425;
        }

        .btn.info {
            background: #1a73e8;
        }

        .btn.info:hover {
            background: #0d5ebd;
        }

        .btn-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: left;
            margin: 20px 0;
        }

        #grid-container {
            min-height: 600px;
            margin-bottom: 30px;
            border: 2px dashed rgba(26, 42, 108, 0.3);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.8);
        }

        .widget {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            height: 100%;
            width: 100%;
        }

        .widget-header {
            background: #1a2a6c;
            color: white;
            padding: 15px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
        }

        .widget-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2rem;
        }

        .widget-icon {
            font-size: 1.5rem;
        }

        .widget-body {
            padding: 15px;
            flex-grow: 1;
            overflow: auto;
            display: flex;
            flex-direction: column;
            scrollbar-width: none;
        }

        .widget-footer {
            padding: 10px 15px;
            background: #f0f0f0;
            text-align: right;
        }

        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            margin: 20px 0;
            font-size: 1rem;
            line-height: 1.5;
        }

        .api-section {
            margin-bottom: 40px;
        }

        .method {
            background: #f1f8ff;
            padding: 20px;
            border-left: 4px solid #1a2a6c;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .method-title {
            color: #1a2a6c;
            font-weight: bold;
            font-size: 1.3rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .method-description {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .params {
            margin: 15px 0;
            padding-left: 20px;
        }

        .param {
            margin-bottom: 12px;
        }

        .param-name {
            font-weight: bold;
            color: #b21f1f;
            display: inline-block;
            min-width: 120px;
        }

        .param-type {
            color: #fdbb2d;
            background: rgba(253, 187, 45, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
            margin: 0 5px;
        }

        .param-desc {
            display: block;
            margin-top: 5px;
            margin-left: 125px;
            color: #555;
        }

        .example {
            background: #e8f4f8;
            padding: 20px;
            border-left: 4px solid #1a2a6c;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .example-title {
            color: #1a2a6c;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .widget-link {
            display: block;
            padding: 12px;
            margin: 12px 0;
            background: #f0f5ff;
            border-radius: 6px;
            text-decoration: none;
            color: #1a2a6c;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.1rem;
        }

        .widget-link:hover {
            background: #1a2a6c;
            color: white;
        }

        .tag-group-links {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
        }

        .alarm-controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .alarm-input {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            flex-grow: 1;
            font-size: 1rem;
        }

        .notes-textarea {
            width: 100%;
            height: 150px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            resize: none;
            margin-top: 10px;
            font-size: 1rem;
        }

        .notes-save {
            margin-top: 15px;
            width: 100%;
            padding: 12px;
            font-size: 1.1rem;
        }

        .stats-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .stat-box {
            background: #f0f5ff;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #1a73e8;
            margin: 10px 0;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #555;
        }

        .chart-container {
            height: 150px;
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            margin: 20px 0;
            padding: 0 10px;
        }

        .chart-bar {
            width: 30px;
            background: #1a73e8;
            border-radius: 4px 4px 0 0;
            position: relative;
            cursor: pointer;
            transition: height 0.5s ease;
        }

        .chart-label {
            position: absolute;
            bottom: -25px;
            width: 100%;
            text-align: center;
            font-size: 0.8rem;
        }

        .chart-value {
            position: absolute;
            top: -25px;
            width: 100%;
            text-align: center;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .counter-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
        }

        .counter-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: none;
            background: #1a73e8;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .counter-value {
            font-size: 2.5rem;
            font-weight: bold;
            min-width: 60px;
            text-align: center;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .form-input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
        }

        .form-submit {
            padding: 12px;
            width: 100%;
            background: #34a853;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1.1rem;
            margin-top: 10px;
        }

        .form-submit:hover {
            background: #2d8e47;
        }

        footer {
            text-align: center;
            padding: 30px;
            color: white;
            margin-top: 50px;
            font-size: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }

        .tab {
            padding: 12px 25px;
            cursor: pointer;
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-bottom: none;
            border-radius: 6px 6px 0 0;
            margin-right: 5px;
        }

        .tab.active {
            background: white;
            border-bottom: 1px solid white;
            margin-bottom: -1px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>GridLayoutç»„ä»¶åº“å¼€å‘æ–‡æ¡£</h1>
            <p class="subtitle">ä¸€ä¸ªçµæ´»çš„å“åº”å¼ç½‘æ ¼å¸ƒå±€ç³»ç»Ÿï¼Œæ”¯æŒæ‹–æ‹½ã€å°ç»„ä»¶é›†æˆå’Œè‡ªé€‚åº”å¸ƒå±€</p>
        </header>

        <div class="content">
            <div class="section">
                <h2 class="section-title"><i>ğŸ“±</i> åŠŸèƒ½æ¼”ç¤º</h2>

                <div class="controls">
                    <div class="btn-group">
                        <button id="add-clock" class="btn info"><i>â±ï¸</i> æ·»åŠ æ—¶é’Ÿç»„ä»¶</button>
                        <button id="add-counter" class="btn"><i>ğŸ”¢</i> æ·»åŠ è®¡æ•°å™¨</button>
                        <button id="add-form" class="btn"><i>ğŸ“</i> æ·»åŠ è¡¨å•ç»„ä»¶</button>
                        <button id="add-dynamic" class="btn"><i>ğŸŒ</i> æ·»åŠ åŠ¨æ€å°ç»„ä»¶</button>
                    </div>

                    <div class="btn-group">
                        <button id="export-btn" class="btn info"><i>ğŸ’¾</i> å¯¼å‡ºå¸ƒå±€</button>
                        <button id="import-btn" class="btn info"><i>ğŸ“¤</i> å¯¼å…¥å¸ƒå±€</button>
                        <button id="reset-btn" class="btn secondary"><i>ğŸ”„</i> é‡ç½®å¸ƒå±€</button>
                    </div>
                </div>

                <div id="grid-container"></div>

                <div class="code-block" id="json-output">
                    {/* JSONè¾“å‡ºåŒºåŸŸ */}
                </div>
            </div>

            <div class="section">
                <h2 class="section-title"><i>ğŸ“š</i> ç»„ä»¶æ–‡æ¡£</h2>

                <div class="tabs">
                    <div class="tab active" data-tab="overview">æ¦‚è¿°</div>
                    <div class="tab" data-tab="api">APIæ–‡æ¡£</div>
                </div>

                <div class="tab-content active" id="overview-tab">
                    <div class="note">
                        <p><strong>GridLayout</strong> æ˜¯ä¸€ä¸ªçµæ´»çš„ç½‘æ ¼å¸ƒå±€ç³»ç»Ÿï¼Œæ”¯æŒæ‹–æ‹½æ“ä½œã€å“åº”å¼å¸ƒå±€å’Œå„ç§å°ç»„ä»¶çš„é›†æˆã€‚ä¸»è¦ç‰¹æ€§åŒ…æ‹¬ï¼š</p>
                        <ul style="padding-left: 30px; margin-top: 15px;">
                            <li>æ”¯æŒè‡ªå®šä¹‰å°ºå¯¸ï¼ˆä»»æ„cols/rowsç»„åˆï¼‰</li>
                            <li>åº•éƒ¨æ”¯æŒæ‹–æ‹½ç§»åŠ¨å’Œè°ƒæ•´ä½ç½®</li>
                            <li>è§¦æ‘¸è®¾å¤‡æ”¯æŒ</li>
                            <li>å“åº”å¼å¸ƒå±€è°ƒæ•´</li>
                            <li>å°ç»„ä»¶é›†æˆå’Œéš”ç¦»</li>
                            <li>å¸ƒå±€å¯¼å…¥/å¯¼å‡ºåŠŸèƒ½</li>
                            <li>ç‹¬ç«‹æ•°æ®æ”¯æŒ</li>
                            <li>æ”¯æŒä»URLåŠ¨æ€åŠ è½½å°ç»„ä»¶èµ„æº</li>
                        </ul>
                    </div>

                    <h3>å°ºå¯¸é…ç½®</h3>
                    <div class="code-block">
                        // æ”¯æŒè‡ªå®šä¹‰å°ºå¯¸<br>
                        sizes: [<br>
                        &nbsp;&nbsp;{ cols: 1, rows: 1 }, // 100Ã—100px<br>
                        &nbsp;&nbsp;{ cols: 2, rows: 1 }, // 220Ã—100px<br>
                        &nbsp;&nbsp;{ cols: 2, rows: 2 }, // 220Ã—220px<br>
                        &nbsp;&nbsp;{ cols: 4, rows: 2 } // 460Ã—220px<br>
                        ]
                    </div>

                    <h3>å°ç»„ä»¶ç»“æ„</h3>
                    <div class="code-block">
                        const grid = new GridLayout('#grid-container');<br>
                        grid.init();<br><br>
                        //è®¾ç½®å…¨å±€æš´éœ²æ•°æ®<br>
                        grid.setExposedGlobals({<br>
                        &nbsp;&nbsp;func1, //æ”¯æŒå‡½æ•°<br>
                        &nbsp;&nbsp;var1, //æ”¯æŒå˜é‡<br>
                        &nbsp;&nbsp;notify: window.alert, //æ”¯æŒé‡å‘½å<br>
                        &nbsp;&nbsp;...<br>
                        });<br><br>
                        // ç¤ºä¾‹1ï¼šç›´æ¥æ·»åŠ å°ç»„ä»¶å†…å®¹<br>
                        grid.addItem(<br>
                        &nbsp;&nbsp;{cols: 2, rows: 2}, <br>
                        &nbsp;&nbsp;{<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;text: 'ç¤ºä¾‹ç»„ä»¶',<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;html: '&lt;div&gt;Hello World&lt;/div&gt;',<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;css: 'div { color: red; }',<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;js: 'notify.info(GridLayout.globals.apiKey); //è°ƒç”¨æš´éœ²å‡½æ•°<br>
                        &nbsp;&nbsp;},<br>
                        &nbsp;&nbsp;{<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;apiKey: "12345", //ç‹¬ç«‹æš´éœ²æ•°æ®ï¼Œå¯ç”¨äºç‹¬ç«‹ä¼ é€’æ•°æ®<br>
                        &nbsp;&nbsp;},<br>
                        &nbsp;&nbsp;{x:0,y:0} <br>
                        );<br><br>
                        
                        // ç¤ºä¾‹2ï¼šåŠ¨æ€åŠ è½½å°ç»„ä»¶ï¼ˆé€šè¿‡URLï¼‰<br>
                        grid.addItem(<br>
                        &nbsp;&nbsp;{cols: 2, rows: 2}, <br>
                        &nbsp;&nbsp;{<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;htmlUrl: 'widgets/dynamic.html',<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;cssUrl: 'widgets/dynamic.css',<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;jsUrl: 'widgets/dynamic.js',<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;text: 'åŠ¨æ€åŠ è½½ç»„ä»¶'<br>
                        &nbsp;&nbsp;},<br>
                        &nbsp;&nbsp;{notify}, <br>
                        &nbsp;&nbsp;{x:0,y:0} <br>
                        );
                    </div>

                    <div class="note">
                        <p><strong>ä½œç”¨åŸŸå¤„ç†ï¼š</strong> GridLayoutä¼šè‡ªåŠ¨ä¸ºæ¯ä¸ªå°ç»„ä»¶çš„CSSå’ŒJSåˆ›å»ºç‹¬ç«‹çš„ä½œç”¨åŸŸï¼Œé¿å…å†²çªã€‚</p>
                        <p><strong>åŠ¨æ€åŠ è½½æœºåˆ¶ï¼š</strong> ä½¿ç”¨URLæ–¹å¼åŠ è½½çš„èµ„æºä¼šè¢«å¼‚æ­¥è·å–å¹¶åº”ç”¨ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†ã€‚</p>
                    </div>
                </div>

                <div class="tab-content" id="api-tab">
                    <div class="api-section">
                        <h3>æ„é€ å‡½æ•°</h3>
                        <div class="method">
                            <div class="method-title"><i>âš™ï¸</i> new GridLayout(containerSelector)</div>
                            <div class="method-description">åˆ›å»ºGridLayoutå®ä¾‹</div>
                            <div class="params">
                                <div class="param">
                                    <span class="param-name">containerSelector</span>
                                    <span class="param-type">string</span>
                                    <span class="param-desc">ç½‘æ ¼å®¹å™¨çš„CSSé€‰æ‹©å™¨</span>
                                </div>
                            </div>
                            <div class="example">
                                <div class="example-title"><i>ğŸ’¡</i> ç¤ºä¾‹ï¼š</div>
                                <div class="code-block">
                                    const grid = new GridLayout('#grid-container');<br>
                                    grid.init();
                                </div>
                            </div>
                        </div>

                        <h3>æ ¸å¿ƒæ–¹æ³•</h3>

                        <div class="method">
                            <div class="method-title"><i>â•</i> addItem(size, widgetData = null, widgetGlobals = null, position = null)</div>
                            <div class="method-description">æ·»åŠ ä¸€ä¸ªæ–°é¡¹ç›®åˆ°ç½‘æ ¼å¸ƒå±€</div>
                            <div class="params">
                                <div class="param">
                                    <span class="param-name">size</span>
                                    <span class="param-type">object</span>
                                    <span class="param-desc">é¡¹ç›®å°ºå¯¸ {cols: number, rows: number}</span>
                                </div>
                                <div class="param">
                                    <span class="param-name">widgetData</span>
                                    <span class="param-type">object | null</span>
                                    <span class="param-desc">å°ç»„ä»¶æ•°æ® {text: string, html: string, css: string, js: string} æˆ– {htmlUrl: string, cssUrl: string, jsUrl: string, text: string}</span>
                                </div>
                                <div class="param">
                                    <span class="param-name">widgetGlobals</span>
                                    <span class="param-type">object | null</span>
                                    <span class="param-desc">å°ç»„ä»¶ç‹¬ç«‹æš´éœ²æ•°æ® {a,b,c...} //ä»»æ„å¯åºåˆ—åŒ–æ•°æ®ç±»å‹ï¼Œå¯çœç•¥ï¼Œä¸€èˆ¬ç”¨äºç»™å°ç»„ä»¶ä¼ é€’æ•°æ®</span>
                                </div>
                                <div class="param">
                                    <span class="param-name">position</span>
                                    <span class="param-type">object | null</span>
                                    <span class="param-desc">ä½ç½®ä¿¡æ¯ {x:0,y:0} //çœç•¥æ—¶è‡ªåŠ¨å¯»æ‰¾åˆé€‚ä½ç½®ï¼Œä¸€èˆ¬åœ¨æ¢å¤å¸ƒå±€æ—¶ä½¿ç”¨</span>
                                </div>
                            </div>
                            <div class="example">
                                <div class="example-title"><i>ğŸ’¡</i> ç¤ºä¾‹ï¼š</div>
                                <div class="code-block">
                                    // ç¤ºä¾‹1ï¼šç›´æ¥æ·»åŠ å°ç»„ä»¶å†…å®¹<br>
                                    grid.addItem(<br>
                                    &nbsp;&nbsp;{cols: 2, rows: 2}, <br>
                                    &nbsp;&nbsp;{<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;html: '&lt;div&gt;Hello World&lt;/div&gt;',<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;css: 'div { color: red; }',<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;js: 'console.log("Component loaded");'<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;text: 'ç¤ºä¾‹ç»„ä»¶'<br>
                                    &nbsp;&nbsp;}<br>
                                    );<br><br>
                                    
                                    // ç¤ºä¾‹2ï¼šåŠ¨æ€åŠ è½½å°ç»„ä»¶ï¼ˆé€šè¿‡URLï¼‰<br>
                                    grid.addItem(<br>
                                    &nbsp;&nbsp;{cols: 2, rows: 2}, <br>
                                    &nbsp;&nbsp;{<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;htmlUrl: 'widgets/dynamic.html',<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;cssUrl: 'widgets/dynamic.css',<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;jsUrl: 'widgets/dynamic.js',<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;text: 'åŠ¨æ€åŠ è½½ç»„ä»¶'<br>
                                    &nbsp;&nbsp;}<br>
                                    );
                                </div>
                            </div>
                        </div>

                        <div class="method">
                            <div class="method-title"><i>â–</i> removeItem(itemId)</div>
                            <div class="method-description">ä»ç½‘æ ¼ä¸­ç§»é™¤é¡¹ç›®</div>
                            <div class="params">
                                <div class="param">
                                    <span class="param-name">itemId</span>
                                    <span class="param-type">number</span>
                                    <span class="param-desc">è¦ç§»é™¤çš„é¡¹ç›®ID</span>
                                </div>
                            </div>
                            <div class="example">
                                <div class="example-title"><i>ğŸ’¡</i> ç¤ºä¾‹ï¼š</div>
                                <div class="code-block">
                                    // åˆ é™¤å°ç»„ä»¶<br>
                                    const grid = new GridLayout('#grid-container');<br>
                                    grid.init();<br>
                                    const itemId = grid.addItem(...);<br>
                                    grid.removeItem(itemId);
                                </div>
                            </div>
                        </div>

                        <div class="method">
                            <div class="method-title"><i>ğŸ“‹</i> getLayoutJson()</div>
                            <div class="method-description">è·å–å½“å‰å¸ƒå±€çš„JSONè¡¨ç¤º</div>
                            <div class="code-block">
                                const layoutJson = grid.getLayoutJson();<br>
                                console.log(layoutJson);
                            </div>
                        </div>

                        <div class="method">
                            <div class="method-title"><i>ğŸ“¥</i> importLayout(json)</div>
                            <div class="method-description">ä»JSONå¯¼å…¥å¸ƒå±€</div>
                            <div class="params">
                                <div class="param">
                                    <span class="param-name">json</span>
                                    <span class="param-type">string</span>
                                    <span class="param-desc">å¸ƒå±€çš„JSONå­—ç¬¦ä¸²</span>
                                </div>
                            </div>
                            <div class="code-block">
                                grid.importLayout(json);
                            </div>
                        </div>

                        <div class="method">
                            <div class="method-title"><i>ğŸ”„</i> reset()</div>
                            <div class="method-description">é‡ç½®å¸ƒå±€åˆ°åˆå§‹çŠ¶æ€</div>
                            <div class="code-block">
                                grid.reset();
                            </div>
                        </div>

                        <div class="method">
                            <div class="method-title"><i>ğŸŒ</i> setExposedGlobals(globals)</div>
                            <div class="method-description">è®¾ç½®æš´éœ²ç»™å°ç»„ä»¶çš„å…¨å±€å¯¹è±¡</div>
                            <div class="params">
                                <div class="param">
                                    <span class="param-name">globals</span>
                                    <span class="param-type">object</span>
                                    <span class="param-desc">è¦æš´éœ²çš„å…¨å±€å¯¹è±¡</span>
                                </div>
                            </div>
                            <div class="example">
                                <div class="example-title"><i>ğŸ’¡</i> ç¤ºä¾‹ï¼š</div>
                                <div class="code-block">
                                    // æš´éœ²notifyå¯¹è±¡ç»™å°ç»„ä»¶<br>
                                    grid.setExposedGlobals({<br>
                                    &nbsp;&nbsp;notify: window.notify,<br>
                                    &nbsp;&nbsp;...<br>
                                    });
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <footer>
                    <p>GridLayout ç»„ä»¶åº“å¼€å‘æ–‡æ¡£ &copy; 2025 - çµæ´»çš„å“åº”å¼ç½‘æ ¼å¸ƒå±€ç³»ç»Ÿ</p>
                </footer>
            </div>

            <script>
                document.addEventListener('DOMContentLoaded', function () {
                    // åˆå§‹åŒ–ç½‘æ ¼å¸ƒå±€
                    const grid = new GridLayout('#grid-container');
                    grid.setExposedGlobals({
                        notify: window.notify
                    });
                    grid.init();

                    // è·å–DOMå…ƒç´ 
                    const jsonOutput = document.getElementById('json-output');
                    const exportBtn = document.getElementById('export-btn');
                    const importBtn = document.getElementById('import-btn');
                    const resetBtn = document.getElementById('reset-btn');

                    // æ ‡ç­¾åˆ‡æ¢åŠŸèƒ½
                    document.querySelectorAll('.tab').forEach(tab => {
                        tab.addEventListener('click', () => {
                            // ç§»é™¤æ‰€æœ‰activeç±»
                            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

                            // æ·»åŠ activeç±»
                            tab.classList.add('active');
                            document.getElementById(`${tab.dataset.tab}-tab`).classList.add('active');
                        });
                    });

                    // æ›´æ–°JSONè¾“å‡º
                    function updateJsonOutput() {
                        jsonOutput.textContent = grid.getLayoutJson();
                    }

                    // å¯¼å‡ºå¸ƒå±€
                    exportBtn.addEventListener('click', () => {
                        updateJsonOutput();
                        notify.info('å¸ƒå±€å·²å¯¼å‡ºåˆ°ä¸‹æ–¹JSONåŒºåŸŸï¼');
                    });

                    // å¯¼å…¥å¸ƒå±€
                    importBtn.addEventListener('click', () => {
                        const json = prompt('è¯·ç²˜è´´å¸ƒå±€JSON:');
                        if (json) {
                            if (grid.importLayout(json)) {
                                updateJsonOutput();
                                notify.success('å¸ƒå±€å¯¼å…¥æˆåŠŸï¼');
                            } else {
                                notify.error('å¸ƒå±€å¯¼å…¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥JSONæ ¼å¼ï¼');
                            }
                        }
                    });

                    // é‡ç½®å¸ƒå±€
                    resetBtn.addEventListener('click', () => {
                            grid.reset();
                            updateJsonOutput();
                            notify.warning('å¸ƒå±€å·²é‡ç½®ï¼');
                    });


                    // æ·»åŠ æ—¶é’Ÿç»„ä»¶
                    document.getElementById('add-clock').addEventListener('click', function () {
                        const id = grid.addItem(
                            { cols: 2, rows: 1 },
                            {
                                text: 'æ—¶é’Ÿ',
                                html: '<div class="widget"><div class="widget-body" style="text-align:center;padding:20px;"><div id="clock-time" style="font-size:1.8rem;"></div><div id="clock-date"></div></div></div>',
                                css: '.widget { background: #fff; border-radius: 10px; }',
                                js: `(function() {
                        function updateClock() {
                            const now = new Date();
                            const timeStr = now.toLocaleTimeString();
                            const dateStr = now.toLocaleDateString();
                            document.getElementById('clock-time').textContent = timeStr;
                            document.getElementById('clock-date').textContent = dateStr;
                        }
                        
                        updateClock();
                        setInterval(updateClock, 1000);
                    })();`
                            }
                        );

                        updateJsonOutput();
                    });

                    // æ·»åŠ è®¡æ•°å™¨ç»„ä»¶
                    document.getElementById('add-counter').addEventListener('click', function () {
                        const id = grid.addItem(
                            { cols: 2, rows: 1 },
                            {
                                text: 'è®¡æ•°å™¨',
                                html: '<div class="widget"><div class="widget-body" style="text-align:center;"><div id="counter-value" style="font-size:1rem;font-weight:bold;">0</div><div style="margin-top:10px;display:flex;justify-content:center;gap:10px;"><button id="decrement" class="btn">-</button><button id="increment" class="btn">+</button></div></div></div>',
                                css: '.widget { background: #fff; } .btn { padding: 8px 15px; }',
                                js: `(function() {
                        let count = 0;
                        const counterElement = document.getElementById('counter-value');
                        
                        function updateCounter() {
                            counterElement.textContent = count;
                        }
                        
                        document.getElementById('increment').addEventListener('click', function() {
                            count++;
                            updateCounter();
                        });
                        
                        document.getElementById('decrement').addEventListener('click', function() {
                            if (count > 0) count--;
                            updateCounter();
                        });
                    })();`
                            }
                        );
                        updateJsonOutput();
                    });

                    // æ·»åŠ è¡¨å•ç»„ä»¶
                    document.getElementById('add-form').addEventListener('click', function () {
                        const id = grid.addItem(
                            { cols: 2, rows: 4 },
                            {
                                html: '<div class="widget"><div class="widget-header"><span>ğŸ“</span> ç”¨æˆ·åé¦ˆ</div><div class="widget-body"><div class="form-group"><label class="form-label">å§“å</label><input type="text" class="form-input" id="feedback-name"></div><div class="form-group"><label class="form-label">åé¦ˆå†…å®¹</label><textarea class="form-input" id="feedback-content" rows="3"></textarea></div><button class="form-submit" id="feedback-submit">æäº¤åé¦ˆ</button></div></div>',
                                css: '.widget { background: #fff; } .form-input { margin-bottom: 10px; padding: 10px; border: 1px solid #ddd; border-radius: 4px; width: 100%; } .form-submit { padding: 12px; width: 100%; background: #1a73e8; color: white; border: none; border-radius: 4px; cursor: pointer; }',
                                js: `(function() {
                        document.getElementById('feedback-submit').addEventListener('click', function() {
                            const name = document.getElementById('feedback-name').value || 'åŒ¿åç”¨æˆ·';
                            GridLayout.globals.notify.info(\`\${name}ï¼Œæ„Ÿè°¢æ‚¨çš„åé¦ˆï¼\`);
                        });
                    })();`
                            }
                        );
                        updateJsonOutput();
                    });

                    // æ·»åŠ åŠ¨æ€å°ç»„ä»¶
                    document.getElementById('add-dynamic').addEventListener('click', function () {
                        const id = grid.addItem(
                            { cols: 2, rows: 2 },
                            {
                                htmlUrl: 'test/test.html',
                                cssUrl: 'test/test.css',
                                jsUrl: 'test/test.js',
                                text: 'åŠ¨æ€åŠ è½½ç»„ä»¶'
                            }
                        );
                        updateJsonOutput();
                    });
                });
            </script>
</body>

</html>